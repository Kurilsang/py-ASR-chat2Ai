# ğŸ™ï¸ ä¸­æ–‡è¯­éŸ³è¯†åˆ«+AIå¯¹è¯+TTSåˆæˆæ¼”ç¤ºç¨‹åº

[![Python](https://img.shields.io/badge/Python-3.8+-blue.svg)](https://python.org)
[![License](https://img.shields.io/badge/License-MIT-green.svg)](LICENSE)
[![Status](https://img.shields.io/badge/Status-Active-brightgreen.svg)]()

ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„è¯­éŸ³AIåŠ©æ‰‹ç³»ç»Ÿï¼Œæ”¯æŒä¸­æ–‡è¯­éŸ³è¯†åˆ«ã€å¤šç§AIå¯¹è¯æœåŠ¡å’Œè¯­éŸ³åˆæˆã€‚é‡‡ç”¨æ¨¡å—åŒ–æ¶æ„è®¾è®¡ï¼Œæ˜“äºæ‰©å±•å’Œç»´æŠ¤ã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§

- ğŸ¤ **æ™ºèƒ½è¯­éŸ³è¯†åˆ«** - æ”¯æŒGoogle ASRï¼Œå¸¦ç¦»çº¿å›é€€
- ğŸ¤– **å¤šç§AIå¯¹è¯æœåŠ¡** - ç®€å•AI/Ollama/OpenAIï¼Œè‡ªåŠ¨å›é€€
- ğŸ”Š **å¤šç§è¯­éŸ³åˆæˆ** - pyttsx3/Google TTS/Azure TTS
- âš¡ **æµå¼TTSæŠ€æœ¯** - è¾¹åˆæˆè¾¹æ’­æ”¾ï¼Œå“åº”é€Ÿåº¦æå‡50-80%
- ğŸ¯ **æ™ºèƒ½è¯­éŸ³æ´»åŠ¨æ£€æµ‹** - å…æŒ‰é”®è‡ªåŠ¨è¿ç»­å¯¹è¯
- ğŸ”„ **å®Œå–„çš„é”™è¯¯å¤„ç†** - å¤šé‡å¤‡é€‰æ–¹æ¡ˆ
- âš™ï¸ **çµæ´»é…ç½®ç®¡ç†** - æ”¯æŒé…ç½®æ–‡ä»¶å®šåˆ¶
- ğŸ“Š **è¯¦ç»†ç»Ÿè®¡ç›‘æ§** - å¯¹è¯æ€§èƒ½åˆ†æ
- ğŸ—ï¸ **æ¨¡å—åŒ–æ¶æ„** - é‡‡ç”¨è®¾è®¡æ¨¡å¼ï¼Œæ˜“äºæ‰©å±•

## ğŸ—ï¸ é¡¹ç›®æ¶æ„

```
â”œâ”€â”€ main.py                     # ğŸš€ ç¨‹åºå¯åŠ¨å…¥å£
â”œâ”€â”€ config/
â”‚   â””â”€â”€ config.ini             # âš™ï¸ é…ç½®æ–‡ä»¶
â”œâ”€â”€ requirements.txt           # ğŸ“¦ ä¾èµ–åŒ…åˆ—è¡¨
â”œâ”€â”€ utils/                     # ğŸ› ï¸ å·¥å…·æ¨¡å—
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ config_manager.py      # ğŸ”§ é…ç½®ç®¡ç†å™¨(å•ä¾‹æ¨¡å¼)
â”‚   â”œâ”€â”€ menu_helper.py         # ğŸ“‹ èœå•å·¥å…·
â”‚   â””â”€â”€ dependency_checker.py  # ğŸ” ä¾èµ–æ£€æŸ¥å·¥å…·
â”œâ”€â”€ services/                  # ğŸ¯ æœåŠ¡å±‚
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ asr_service.py         # ğŸ¤ ASRè¯­éŸ³è¯†åˆ«æœåŠ¡
â”‚   â”œâ”€â”€ ai_service.py          # ğŸ¤– AIå¯¹è¯æœåŠ¡(ç­–ç•¥æ¨¡å¼)
â”‚   â”œâ”€â”€ tts_service.py         # ğŸ”Š TTSè¯­éŸ³åˆæˆæœåŠ¡(ç­–ç•¥æ¨¡å¼)
â”‚   â”œâ”€â”€ streaming_tts_enhanced.py # âš¡ å¢å¼ºç‰ˆæµå¼TTSæœåŠ¡
â”‚   â””â”€â”€ vad_service.py         # ğŸ¯ è¯­éŸ³æ´»åŠ¨æ£€æµ‹æœåŠ¡
â””â”€â”€ core/                      # ğŸ’ æ ¸å¿ƒä¸šåŠ¡å±‚
    â”œâ”€â”€ __init__.py
    â””â”€â”€ conversation_manager.py # ğŸ­ å¯¹è¯ç®¡ç†å™¨
```

## ğŸ¯ è®¾è®¡æ¨¡å¼

- **ğŸ—ï¸ å·¥å‚æ¨¡å¼** - AIæœåŠ¡å’ŒTTSæœåŠ¡çš„åˆ›å»º
- **ğŸ“‹ ç­–ç•¥æ¨¡å¼** - ä¸åŒAIå’ŒTTSç®—æ³•çš„åˆ‡æ¢
- **ğŸ”’ å•ä¾‹æ¨¡å¼** - é…ç½®ç®¡ç†å™¨ç¡®ä¿å…¨å±€å”¯ä¸€
- **ğŸ”„ è£…é¥°å™¨æ¨¡å¼** - æœåŠ¡å›é€€æœºåˆ¶

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒè¦æ±‚

- Python 3.8+
- Windows/Linux/macOS
- éº¦å…‹é£è®¾å¤‡

### 2. å®‰è£…ä¾èµ–

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/Kurilsang/py-ASR-chat2Ai.git
cd py-ASR-chat2Ai

# å®‰è£…åŸºç¡€ä¾èµ–
pip install -r requirements.txt

# å¯é€‰ï¼šå®‰è£…é¢å¤–TTSæ”¯æŒ
pip install gtts pygame                    # Google TTS + æµå¼TTSéŸ³é¢‘æ’­æ”¾
pip install azure-cognitiveservices-speech # Azure TTS
```

### 3. è¿è¡Œç¨‹åº

```bash
# å¯åŠ¨ç¨‹åº
python main.py

# æŸ¥çœ‹å¸®åŠ©
python main.py --help

# æŸ¥çœ‹ç‰ˆæœ¬
python main.py --version
```

### 4. é…ç½®æœåŠ¡

ç¨‹åºæ”¯æŒå¤šç§æœåŠ¡ç»„åˆï¼š

#### AIå¯¹è¯æœåŠ¡
- **ç®€å•AI** - æœ¬åœ°å…è´¹ï¼Œç«‹å³å¯ç”¨
- **Ollama** - æœ¬åœ°å¤§æ¨¡å‹ï¼Œéœ€è¦å®‰è£…Ollama
- **OpenAI** - åœ¨çº¿æœåŠ¡ï¼Œéœ€è¦API Key

#### TTSè¯­éŸ³åˆæˆ
- **pyttsx3** - Windowså†…ç½®ï¼Œå…è´¹
- **Google TTS** - åœ¨çº¿æœåŠ¡ï¼ŒéŸ³è´¨å¥½
- **Azure TTS** - é«˜è´¨é‡ï¼Œéœ€è¦API Key
- **æµå¼TTS** - æ™ºèƒ½åˆ†å‰²+å¹¶è¡Œå¤„ç†ï¼Œå¤§å¹…æå‡é•¿å¯¹è¯å“åº”é€Ÿåº¦

#### è¯­éŸ³æ£€æµ‹
- **æ™ºèƒ½VAD** - è‡ªåŠ¨æ£€æµ‹è¯­éŸ³å¼€å§‹/ç»“æŸ
- **å¯é…ç½®å‚æ•°** - é€šè¿‡config.iniè°ƒæ•´

## âš¡ æµå¼TTSæ–°ç‰¹æ€§

### ğŸ¯ æ ¸å¿ƒä¼˜åŠ¿
- **å“åº”é€Ÿåº¦æå‡**: 50-80%ï¼Œé•¿æ–‡æœ¬ä»40ç§’ç­‰å¾…å‡å°‘åˆ°1.77ç§’
- **æ™ºèƒ½æ–‡æœ¬åˆ†å‰²**: æŒ‰è¯­ä¹‰å®Œæ•´æ€§åˆ†å‰²ï¼Œä¿æŒè¯­éŸ³è‡ªç„¶è¿è´¯
- **è¾¹åˆæˆè¾¹æ’­æ”¾**: æ— éœ€ç­‰å¾…å®Œæ•´åˆæˆï¼Œå®æ—¶éŸ³é¢‘è¾“å‡º
- **è‡ªåŠ¨æ¨¡å¼åˆ‡æ¢**: çŸ­æ–‡æœ¬ä¼ ç»Ÿæ¨¡å¼ï¼Œé•¿æ–‡æœ¬è‡ªåŠ¨å¯ç”¨æµå¼

### ğŸ—ï¸ æŠ€æœ¯å®ç°
- **å¤šçº¿ç¨‹å¹¶è¡Œ**: åˆæˆã€æ’­æ”¾ã€ç›‘æ§ä¸‰çº¿ç¨‹åä½œ
- **éŸ³é¢‘ç¼“å­˜**: æ”¯æŒä¸´æ—¶æ–‡ä»¶å’Œå†…å­˜ç¼“å­˜
- **æ™ºèƒ½å›é€€**: æœåŠ¡ä¸å¯ç”¨æ—¶è‡ªåŠ¨é™çº§
- **è¯¦ç»†ç»Ÿè®¡**: å®Œæ•´çš„æ€§èƒ½ç›‘æ§å’Œåˆ†æ

## âš™ï¸ é…ç½®è¯´æ˜

ç¼–è¾‘ `config/config.ini` æ–‡ä»¶ï¼š

```ini
[VOICE_DETECTION]
# è¯­éŸ³ç»“æŸåç­‰å¾…æ—¶é—´ï¼ˆç§’ï¼‰
silence_timeout = 2.0
# æœ€å°è¯­éŸ³æ—¶é•¿ï¼ˆç§’ï¼‰
min_speech_duration = 0.5
# èƒ½é‡é˜ˆå€¼è°ƒèŠ‚å› å­
energy_threshold_multiplier = 1.5

[CONVERSATION]
# å¯¹è¯é—´éš”æ—¶é—´ï¼ˆç§’ï¼‰
response_pause_time = 1.0
# å¯¹è¯è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰
conversation_timeout = 300

[TTS_SETTINGS]
# TTSæ’­æ”¾å®Œæˆåç­‰å¾…æ—¶é—´ï¼ˆç§’ï¼‰
tts_completion_wait = 0.5
```

## ğŸ“Š æµ‹è¯•ç»“æœ

ä»æœ€æ–°æµ‹è¯•å¯ä»¥çœ‹åˆ°ï¼š

```
ğŸ“‹ æœåŠ¡æµ‹è¯•æ€»ç»“ï¼š
   ASR: âœ… å¯ç”¨      # è¯­éŸ³è¯†åˆ«æ­£å¸¸
   AI: âœ… å¯ç”¨       # AIå›å¤æ­£å¸¸ï¼ˆOllamaâ†’ç®€å•AIå›é€€ï¼‰
   TTS: âœ… å¯ç”¨      # è¯­éŸ³åˆæˆæ­£å¸¸ï¼ˆGoogle TTSâ†’pyttsx3å›é€€ï¼‰
   VAD: âš ï¸ å¯é…ç½®    # è¯­éŸ³æ£€æµ‹å¯è°ƒä¼˜

ğŸ“Š å¯¹è¯ç»Ÿè®¡ä¿¡æ¯ï¼š
   æ€»è½®æ•°: 1
   æ€»æ—¶é•¿: 68.4 ç§’
   å¹³å‡è¯†åˆ«æ—¶é—´: 3.59 ç§’
   å¹³å‡AIå“åº”æ—¶é—´: 5.35 ç§’
   å¹³å‡TTSæ—¶é—´: 18.41 ç§’ (ä¼ ç»Ÿæ¨¡å¼)
   å¯¹è¯é¢‘ç‡: 0.9 è½®/åˆ†é’Ÿ

âš¡ æµå¼TTSæ€§èƒ½æå‡ï¼š
   é¦–æ¬¡å“åº”æ—¶é—´: 1.77ç§’ (vs 41.60ç§’ä¼ ç»Ÿæ–¹å¼)
   å“åº”é€Ÿåº¦æå‡: 95.7%
   ç”¨æˆ·ä½“éªŒ: æ˜¾è‘—æ”¹å–„
```

## ğŸ¯ ä½¿ç”¨æ¨¡å¼

### 1. å•æ¬¡å¯¹è¯
é€‚åˆæµ‹è¯•å’Œç®€å•äº¤äº’

### 2. æ™ºèƒ½è¿ç»­å¯¹è¯ (æ¨è)
- è‡ªåŠ¨è¯­éŸ³æ£€æµ‹
- æ— éœ€æŒ‰é”®äº¤äº’
- æ™ºèƒ½å¯¹è¯å¾ªç¯
- æµå¼TTSä¼˜åŒ–é•¿å›å¤

### 3. æ‰‹åŠ¨è¿ç»­å¯¹è¯
- æ‰‹åŠ¨æ§åˆ¶å¯¹è¯èŠ‚å¥
- é€‚åˆè°ƒè¯•å’Œç²¾ç¡®æ§åˆ¶

## ğŸ”§ å¼€å‘æŒ‡å—

### æ‰©å±•AIæœåŠ¡

```python
from services.ai_service import AIServiceInterface

class CustomAIService(AIServiceInterface):
    def get_response(self, message: str) -> str:
        # å®ç°è‡ªå®šä¹‰AIé€»è¾‘
        return "è‡ªå®šä¹‰å›å¤"
    
    def get_service_name(self) -> str:
        return "è‡ªå®šä¹‰AI"
    
    def is_available(self) -> bool:
        return True
```

### æ‰©å±•TTSæœåŠ¡

```python
from services.tts_service import TTSServiceInterface

class CustomTTSService(TTSServiceInterface):
    def speak(self, text: str, async_play: bool = True) -> bool:
        # å®ç°è‡ªå®šä¹‰TTSé€»è¾‘
        return True
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/amazing-feature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add amazing feature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/amazing-feature`)
5. å¼€å¯ Pull Request

## ğŸ“ æ›´æ–°æ—¥å¿—

### v2.1.0 (2024-12-19)
- âš¡ **æ–°å¢æµå¼TTSæŠ€æœ¯** - é•¿å¯¹è¯å“åº”é€Ÿåº¦æå‡50-80%
- ğŸ§© æ™ºèƒ½æ–‡æœ¬åˆ†å‰²ç®—æ³•ï¼Œä¿æŒè¯­ä¹‰å®Œæ•´æ€§
- ğŸ”„ è¾¹åˆæˆè¾¹æ’­æ”¾ï¼Œå¤§å¹…æ”¹å–„ç”¨æˆ·ä½“éªŒ
- ğŸ“Š è¯¦ç»†çš„æµå¼TTSæ€§èƒ½ç»Ÿè®¡å’Œç›‘æ§
- ğŸ¯ è‡ªåŠ¨æ¨¡å¼åˆ‡æ¢ï¼ŒçŸ­æ–‡æœ¬ä¼ ç»Ÿæ¨¡å¼ï¼Œé•¿æ–‡æœ¬æµå¼æ¨¡å¼

### v2.0.0 (2024-12-19)
- âœ¨ é‡æ„ä¸ºæ¨¡å—åŒ–æ¶æ„
- ğŸ­ é‡‡ç”¨å·¥å‚æ¨¡å¼å’Œç­–ç•¥æ¨¡å¼
- ğŸ”§ å•ä¾‹é…ç½®ç®¡ç†å™¨
- ğŸ“Š å®Œå–„çš„ç»Ÿè®¡å’Œç›‘æ§
- ğŸ¯ æ™ºèƒ½è¯­éŸ³æ´»åŠ¨æ£€æµ‹
- ğŸ”„ è‡ªåŠ¨å›é€€æœºåˆ¶

### v1.0.0 (2024-12-18)
- ğŸ¤ åŸºç¡€è¯­éŸ³è¯†åˆ«åŠŸèƒ½
- ğŸ¤– AIå¯¹è¯é›†æˆ
- ğŸ”Š TTSè¯­éŸ³åˆæˆ

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…

## ğŸ™ è‡´è°¢

- [SpeechRecognition](https://github.com/Uberi/speech_recognition) - è¯­éŸ³è¯†åˆ«åº“
- [pyttsx3](https://github.com/nateshmbhat/pyttsx3) - æ–‡æœ¬è½¬è¯­éŸ³
- [gTTS](https://github.com/pndurette/gTTS) - Googleæ–‡æœ¬è½¬è¯­éŸ³
- [Ollama](https://ollama.ai/) - æœ¬åœ°å¤§è¯­è¨€æ¨¡å‹
- [pygame](https://www.pygame.org/) - éŸ³é¢‘æ’­æ”¾æ”¯æŒ

## ğŸ“ è”ç³»æ–¹å¼

- é¡¹ç›®åœ°å€ï¼š[https://github.com/Kurilsang/py-ASR-chat2Ai](https://github.com/Kurilsang/py-ASR-chat2Ai)
- é—®é¢˜åé¦ˆï¼š[Issues](https://github.com/Kurilsang/py-ASR-chat2Ai/issues)

---

â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ªæ˜Ÿæ ‡æ”¯æŒï¼ 